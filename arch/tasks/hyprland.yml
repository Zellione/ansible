- name: Install Terminal emulator
  become: true
  community.general.pacman:
    name:
      - kitty
  tags:
    - hyprland

- name: Install Hyprland Dependencies
  become: true
  community.general.pacman:
    name:
      - gobject-introspection
      - gtk-layer-shell
      - scdoc
      - python-pywal
      - jq
      - pamixer
      - pipewire-alsa
      - bluez
      - bluez-utils
      - blueman
      - gnome-system-monitor
      - polkit-gnome
      - imagemagick
      - cliphist
      - grim
      - gvfs
      - gvfs-mtp
      - kvantum
      - network-manager-applet
      - pavucontrol
      - playerctl
      - qt5ct
      - qt6ct
      - qt6-svg
      - slurp
      - swappy
      - swayidle
      - wl-clipboard
      - xdg-user-dirs
      - xdg-utils
      - yad
      - brightnessctl
      - eog
      - mousepad
      - mpv
      - mpv-mpris
      - nvtop
      - pacman-contrib
      - yt-dlp
  tags:
    - hyprland

- name: Install Hyprland Fonts
  become: true
  community.general.pacman:
    name:
      - adobe-source-code-pro-fonts
      - noto-fonts-emoji
      - otf-font-awesome
      - ttf-droid
      - ttf-jetbrains-mono
      - ttf-jetbrains-mono-nerd

- name: Install Hyprland community Dependencies
  become: yes
  become_user: aur_builder
  aur:
    name:
      - swww
      - swaync
      - cava
      - rofi-lbonn-wayland-git
      - swaylock-effects-git
      - nwg-look-bin
    use: yay
    state: latest
  tags:
    - hyprland


- name: Install Waybar
  become: true
  community.general.pacman:
    name:
      - waybar
  tags:
    - hyprland

- name: Install Hyprland
  become: true
  community.general.pacman:
    name:
      - wl-clipboard
      - hyprland
  tags:
    - hyprland

- name: Download or Update wlogout Repository
  ansible.builtin.git:
    repo: "https://github.com/ArtsyMacaw/wlogout.git"
    recursive: yes
    dest: "{{ personal }}/wlogout"
  tags:
    - hyprland

- name: Build WLogout
  shell: "cd {{ personal }}/wlogout && meson build && ninja -C build"
  tags:
    - hyprland

- name: Install WLogout
  become: true
  shell: "cd {{ personal }}/wlogout && ninja -C build install"
  tags:
    - hyprland

- name: Activate Bluetooth daemon
  become: true
  systemd:
    name: bluetooth
    enabled: yes
    state: started
  tags:
    - hyprland
